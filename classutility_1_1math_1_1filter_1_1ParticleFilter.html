<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NUbots: utility::math::filter::ParticleFilter&lt; Scalar, FilterModel &gt; Class Template Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <!--START doxygen_awesome-->
    <script type="text/javascript" src="styles/doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init();
    </script>
    <!--END doxygen_awesome-->
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <a href="https://github.com/NUbots/NUbots" class="github-corner" title="View source on GitHub" target="_blank">
      <svg
        viewBox="0 0 250 250"
        width="40"
        height="40"
        style="position: absolute; top: 0; border: 0; right: 0; z-index: 99"
        aria-hidden="true"
      >
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor"
          style="transform-origin: 130px 106px"
          class="octo-arm"
        ></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor"
          class="octo-body"
        ></path></svg></a
    ><style>
      .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out;
      }
      @keyframes octocat-wave {
        0%,
        100% {
          transform: rotate(0);
        }
        20%,
        60% {
          transform: rotate(-25deg);
        }
        40%,
        80% {
          transform: rotate(10deg);
        }
      }
      @media (max-width: 500px) {
        .github-corner:hover .octo-arm {
          animation: none;
        }
        .github-corner .octo-arm {
          animation: octocat-wave 560ms ease-in-out;
        }
      }
    </style>
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo"><img alt="Logo" src="banner.png" /></td>
                <td id="projectalign">
                  <div id="projectname">
                    NUbots
                  </div>
                  <div id="projectbrief">NUbots Main Codebase</div>
                </td>
              </tr>
              <!--BEGIN FULL_SIDEBAR-->
              <tr>
                <td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
              </tr>
              <!--END FULL_SIDEBAR-->
            </tbody>
          </table>
        </div>
        <!-- end header part -->
      </div>
    </div>
  </body>
</html>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classutility_1_1math_1_1filter_1_1ParticleFilter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classutility_1_1math_1_1filter_1_1ParticleFilter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">utility::math::filter::ParticleFilter&lt; Scalar, FilterModel &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ParticleFilter_8hpp_source.html">ParticleFilter.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab7622b2bbf029dcd07947675545fdb9e"><td class="memItemLeft" align="right" valign="top"><a id="ab7622b2bbf029dcd07947675545fdb9e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Model</b> = FilterModel&lt; Scalar &gt;</td></tr>
<tr class="separator:ab7622b2bbf029dcd07947675545fdb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b84437479faf42b4ce81fbc70bdb9d"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a> { <b>MULTINOMIAL</b>
, <b>STRATIFIED</b>
, <b>SYSTEMATIC</b>
 }</td></tr>
<tr class="memdesc:a87b84437479faf42b4ce81fbc70bdb9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The possible resampling methods.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">More...</a><br /></td></tr>
<tr class="separator:a87b84437479faf42b4ce81fbc70bdb9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3f723b74a1262af76b3adfc42277ac"><td class="memItemLeft" align="right" valign="top"><a id="a9a3f723b74a1262af76b3adfc42277ac"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>StateMat</b> = Eigen::Matrix&lt; Scalar, Model::size, Model::size &gt;</td></tr>
<tr class="separator:a9a3f723b74a1262af76b3adfc42277ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8e90448e0efc5246ca443267bbafae"><td class="memItemLeft" align="right" valign="top"><a id="a6c8e90448e0efc5246ca443267bbafae"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>StateVec</b> = Eigen::Matrix&lt; Scalar, Model::size, 1 &gt;</td></tr>
<tr class="separator:a6c8e90448e0efc5246ca443267bbafae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14ce1d809fcba30ee99cf8d64da54d2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a14ce1d809fcba30ee99cf8d64da54d2f">ParticleFilter</a> ()</td></tr>
<tr class="memdesc:a14ce1d809fcba30ee99cf8d64da54d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the particle filter using default values.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a14ce1d809fcba30ee99cf8d64da54d2f">More...</a><br /></td></tr>
<tr class="separator:a14ce1d809fcba30ee99cf8d64da54d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87076f25b757729992aef7362f4dacf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87076f25b757729992aef7362f4dacf6">ParticleFilter</a> (const StateVec &amp;mean, const StateMat &amp;covariance, const <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a> &amp;resample_method_=ResampleMethod::SYSTEMATIC, const bool &amp;use_residual_resampling_=true)</td></tr>
<tr class="memdesc:a87076f25b757729992aef7362f4dacf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the particle filter with the provided values.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87076f25b757729992aef7362f4dacf6">More...</a><br /></td></tr>
<tr class="separator:a87076f25b757729992aef7362f4dacf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786422d323d6bb444a26f489da5361d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a786422d323d6bb444a26f489da5361d6">ParticleFilter</a> (const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;hypotheses, const <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a> &amp;resample_method_=ResampleMethod::SYSTEMATIC, const bool &amp;use_residual_resampling_=true)</td></tr>
<tr class="memdesc:a786422d323d6bb444a26f489da5361d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the particle filter with the provided values.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a786422d323d6bb444a26f489da5361d6">More...</a><br /></td></tr>
<tr class="separator:a786422d323d6bb444a26f489da5361d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ed424e8cfa5d9b8c32fdbf4c47bfcb"><td class="memItemLeft" align="right" valign="top"><a id="a32ed424e8cfa5d9b8c32fdbf4c47bfcb"></a>
StateMat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a32ed424e8cfa5d9b8c32fdbf4c47bfcb">get_covariance</a> () const</td></tr>
<tr class="memdesc:a32ed424e8cfa5d9b8c32fdbf4c47bfcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and returns the covariance of the particles. <br /></td></tr>
<tr class="separator:a32ed424e8cfa5d9b8c32fdbf4c47bfcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe2856373f573f2478849e32312c31f"><td class="memItemLeft" align="right" valign="top"><a id="a8fe2856373f573f2478849e32312c31f"></a>
const Eigen::Matrix&lt; Scalar, Model::size, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a8fe2856373f573f2478849e32312c31f">get_particle</a> (int idx) const</td></tr>
<tr class="memdesc:a8fe2856373f573f2478849e32312c31f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the particle at the given index. <br /></td></tr>
<tr class="separator:a8fe2856373f573f2478849e32312c31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4700059d7e6f22196b2bde80566d70d7"><td class="memItemLeft" align="right" valign="top"><a id="a4700059d7e6f22196b2bde80566d70d7"></a>
const ParticleWeights &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a4700059d7e6f22196b2bde80566d70d7">get_particle_weights</a> () const</td></tr>
<tr class="memdesc:a4700059d7e6f22196b2bde80566d70d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the underlying particle weights. <br /></td></tr>
<tr class="separator:a4700059d7e6f22196b2bde80566d70d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810d5de8071b62ddb9477437d9ec0999"><td class="memItemLeft" align="right" valign="top"><a id="a810d5de8071b62ddb9477437d9ec0999"></a>
const ParticleList &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a810d5de8071b62ddb9477437d9ec0999">get_particles</a> () const</td></tr>
<tr class="memdesc:a810d5de8071b62ddb9477437d9ec0999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the underlying particle list. <br /></td></tr>
<tr class="separator:a810d5de8071b62ddb9477437d9ec0999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38144334248f1f5de0393a9faf7eda75"><td class="memItemLeft" align="right" valign="top"><a id="a38144334248f1f5de0393a9faf7eda75"></a>
std::vector&lt; Eigen::Matrix&lt; Scalar, Model::size, 1 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a38144334248f1f5de0393a9faf7eda75">get_particles_as_vector</a> () const</td></tr>
<tr class="memdesc:a38144334248f1f5de0393a9faf7eda75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the underlying particle list as a vector. <br /></td></tr>
<tr class="separator:a38144334248f1f5de0393a9faf7eda75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5d5b95d4c7884dd6801bb8e981d43a"><td class="memItemLeft" align="right" valign="top"><a id="a7b5d5b95d4c7884dd6801bb8e981d43a"></a>
StateVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a7b5d5b95d4c7884dd6801bb8e981d43a">get_state</a> () const</td></tr>
<tr class="memdesc:a7b5d5b95d4c7884dd6801bb8e981d43a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and returns the mean of all particles. <br /></td></tr>
<tr class="separator:a7b5d5b95d4c7884dd6801bb8e981d43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fd8f821f4ba41ae7c4a775445915a2"><td class="memTemplParams" colspan="2">template&lt;typename MeasurementScalar , int S, int... VArgs, int... MArgs, typename... Args&gt; </td></tr>
<tr class="memitem:a05fd8f821f4ba41ae7c4a775445915a2"><td class="memTemplItemLeft" align="right" valign="top">MeasurementScalar&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a05fd8f821f4ba41ae7c4a775445915a2">measure</a> (const Eigen::Matrix&lt; MeasurementScalar, S, 1, VArgs... &gt; &amp;measurement, const Eigen::Matrix&lt; MeasurementScalar, S, S, MArgs... &gt; &amp;measurement_covariance, Args &amp;&amp;... params)</td></tr>
<tr class="memdesc:a05fd8f821f4ba41ae7c4a775445915a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the model to predict (using model::predict) what the next measurement will be then determine how accurate this prediction is (using model::difference).  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a05fd8f821f4ba41ae7c4a775445915a2">More...</a><br /></td></tr>
<tr class="separator:a05fd8f821f4ba41ae7c4a775445915a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcc9c9d69f0102c6c2e6a28a1e0ad23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a1bcc9c9d69f0102c6c2e6a28a1e0ad23">resample</a> ()</td></tr>
<tr class="memdesc:a1bcc9c9d69f0102c6c2e6a28a1e0ad23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do a weighted resampling of all of the particles in the filter.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a1bcc9c9d69f0102c6c2e6a28a1e0ad23">More...</a><br /></td></tr>
<tr class="separator:a1bcc9c9d69f0102c6c2e6a28a1e0ad23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73befebf1cf6ab7b56206caea2f9176"><td class="memItemLeft" align="right" valign="top"><a id="ac73befebf1cf6ab7b56206caea2f9176"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#ac73befebf1cf6ab7b56206caea2f9176">set_particle_weight</a> (const Scalar &amp;weight, const int &amp;idx)</td></tr>
<tr class="memdesc:ac73befebf1cf6ab7b56206caea2f9176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually set a particles weight. <br /></td></tr>
<tr class="separator:ac73befebf1cf6ab7b56206caea2f9176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb97666f35223dc079edf3d5b563f7eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#aeb97666f35223dc079edf3d5b563f7eb">set_state</a> (const StateVec &amp;mean, const StateMat &amp;covariance)</td></tr>
<tr class="memdesc:aeb97666f35223dc079edf3d5b563f7eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#aeb97666f35223dc079edf3d5b563f7eb">More...</a><br /></td></tr>
<tr class="separator:aeb97666f35223dc079edf3d5b563f7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b67f6577611faf6683e7b871d38b802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a5b67f6577611faf6683e7b871d38b802">set_state</a> (const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;hypotheses)</td></tr>
<tr class="memdesc:a5b67f6577611faf6683e7b871d38b802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a5b67f6577611faf6683e7b871d38b802">More...</a><br /></td></tr>
<tr class="separator:a5b67f6577611faf6683e7b871d38b802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f783aa0df5b44f9ba9bf82ba3bd39ac"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a7f783aa0df5b44f9ba9bf82ba3bd39ac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a7f783aa0df5b44f9ba9bf82ba3bd39ac">time</a> (const Scalar &amp;dt, Args &amp;&amp;... params)</td></tr>
<tr class="memdesc:a7f783aa0df5b44f9ba9bf82ba3bd39ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resample all particles in the filter and set their weights back to 1.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a7f783aa0df5b44f9ba9bf82ba3bd39ac">More...</a><br /></td></tr>
<tr class="separator:a7f783aa0df5b44f9ba9bf82ba3bd39ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4f3735dabc2c6f2e7f0190a1a1ecadc2"><td class="memItemLeft" align="right" valign="top"><a id="a4f3735dabc2c6f2e7f0190a1a1ecadc2"></a>
Model&#160;</td><td class="memItemRight" valign="bottom"><b>model</b> {}</td></tr>
<tr class="separator:a4f3735dabc2c6f2e7f0190a1a1ecadc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7648b087a69c321083aa1a14e694ca0"><td class="memItemLeft" align="right" valign="top"><a id="ae7648b087a69c321083aa1a14e694ca0"></a>
<a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a>&#160;</td><td class="memItemRight" valign="bottom"><b>resample_method</b> = ResampleMethod::SYSTEMATIC</td></tr>
<tr class="separator:ae7648b087a69c321083aa1a14e694ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aeae65e73ed919cd0257e18ab055039"><td class="memItemLeft" align="right" valign="top"><a id="a2aeae65e73ed919cd0257e18ab055039"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>use_residual_resampling</b> = true</td></tr>
<tr class="separator:a2aeae65e73ed919cd0257e18ab055039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:af7dfcda1129be3d8c356df5bb0b178d6"><td class="memItemLeft" align="right" valign="top"><a id="af7dfcda1129be3d8c356df5bb0b178d6"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ParticleList</b> = Eigen::Matrix&lt; Scalar, Model::size, Eigen::Dynamic &gt;</td></tr>
<tr class="separator:af7dfcda1129be3d8c356df5bb0b178d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9067e42fb906086ad04b853bdf856406"><td class="memItemLeft" align="right" valign="top"><a id="a9067e42fb906086ad04b853bdf856406"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ParticleWeights</b> = std::vector&lt; Scalar &gt;</td></tr>
<tr class="separator:a9067e42fb906086ad04b853bdf856406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9b2b5a5cc456afd2a7de365cd0c5fb9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a9b2b5a5cc456afd2a7de365cd0c5fb9b">init</a> (const StateVec &amp;mean, const StateMat &amp;covariance)</td></tr>
<tr class="memdesc:a9b2b5a5cc456afd2a7de365cd0c5fb9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a9b2b5a5cc456afd2a7de365cd0c5fb9b">More...</a><br /></td></tr>
<tr class="separator:a9b2b5a5cc456afd2a7de365cd0c5fb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8480fb9c6f0eff82cd1e007cae660b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#aea8480fb9c6f0eff82cd1e007cae660b">init</a> (const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;hypotheses)</td></tr>
<tr class="memdesc:aea8480fb9c6f0eff82cd1e007cae660b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance.  <a href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#aea8480fb9c6f0eff82cd1e007cae660b">More...</a><br /></td></tr>
<tr class="separator:aea8480fb9c6f0eff82cd1e007cae660b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200179128c2836d233d373dfef3c71f2"><td class="memItemLeft" align="right" valign="top"><a id="a200179128c2836d233d373dfef3c71f2"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a200179128c2836d233d373dfef3c71f2">resample_particles</a> ()</td></tr>
<tr class="memdesc:a200179128c2836d233d373dfef3c71f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the chosen resample and residual method to resample the particles in the filter based on their weights. <br /></td></tr>
<tr class="separator:a200179128c2836d233d373dfef3c71f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a264f28176f7f130562ec01085e50aada"><td class="memItemLeft" align="right" valign="top"><a id="a264f28176f7f130562ec01085e50aada"></a>
ParticleList&#160;</td><td class="memItemRight" valign="bottom"><b>particles</b> {}</td></tr>
<tr class="separator:a264f28176f7f130562ec01085e50aada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba507472f66a5d9a3ff1f1a74c091589"><td class="memItemLeft" align="right" valign="top"><a id="aba507472f66a5d9a3ff1f1a74c091589"></a>
ParticleWeights&#160;</td><td class="memItemRight" valign="bottom"><b>weights</b> {}</td></tr>
<tr class="separator:aba507472f66a5d9a3ff1f1a74c091589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Scalar, template&lt; typename &gt; class FilterModel&gt;<br />
class utility::math::filter::ParticleFilter&lt; Scalar, FilterModel &gt;</h3>

<dl class="section author"><dt>Author</dt><dd>Alex Biddulph, Trent Houliston</dd></dl>
<p>Uses a set of particles (or samples) to represent possible states in a system. Each particle is randomly selected from a multivariate normal distribution. Each particle is weighted by how likely it is to be the real state of the system. Particles with a higher weight are more likely to be resampled (with noise) during the time update.</p>
<p>Time Update: Resamples all particles, perturbing the resampled particles with the model's process noise, and asks the model to predict what should happen to each particle after an elapsed amount of time.</p>
<p>Measurement Update: Asks the model to predict what the next measurement will be (based on current state/particle) and the finds the difference between the model's prediction and the actual measurement. The likelihood of this prediction occuring, given the measurement, is then determined using a multivariate normal distribution probability density function.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Scalar</td><td>The scalar type to use for all calculations. This puts an upper bound on the numerical precision that is achievable by the filter </td></tr>
    <tr><td class="paramname">FilterModel</td><td>The model to use in the filtering process. This model needs to provide the equations that models the system. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a87b84437479faf42b4ce81fbc70bdb9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b84437479faf42b4ce81fbc70bdb9d">&#9670;&nbsp;</a></span>ResampleMethod</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">utility::math::filter::ParticleFilter::ResampleMethod</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The possible resampling methods. </p>
<dl class="section see"><dt>See also</dt><dd><a href="http://users.isy.liu.se/rt/schon/Publications/HolSG2006.pdf">http://users.isy.liu.se/rt/schon/Publications/HolSG2006.pdf</a> for an explanation on each one </dd></dl>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a14ce1d809fcba30ee99cf8d64da54d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ce1d809fcba30ee99cf8d64da54d2f">&#9670;&nbsp;</a></span>ParticleFilter() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::<a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">ParticleFilter</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the particle filter using default values. </p>
<p>Mean is set to 0 and covariance is set to <img class="formulaInl" alt="$0.1 * I_{n}$" src="form_0.png"/>, where n is the size of the model. The residual method is used for resampling particles and the residual will use the systematic method for resampling the residual particles. </p>

</div>
</div>
<a id="a87076f25b757729992aef7362f4dacf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87076f25b757729992aef7362f4dacf6">&#9670;&nbsp;</a></span>ParticleFilter() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::<a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">ParticleFilter</a> </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StateMat &amp;&#160;</td>
          <td class="paramname"><em>covariance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a> &amp;&#160;</td>
          <td class="paramname"><em>resample_method_</em> = <code>ResampleMethod::SYSTEMATIC</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>use_residual_resampling_</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the particle filter with the provided values. </p>
<p>The resampling method with default to the residual method with the systematic method for resampling the residual particles. It is an error to use the residual method for resampling residuals and an exception will be thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. Used for sampling the initial particles in the filter. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. Used for sampling the initial particles in the filter. </td></tr>
    <tr><td class="paramname">resample_method_</td><td>The method to use when resampling particles during the time update step </td></tr>
    <tr><td class="paramname">use_residual_resampling_</td><td>Whether residual resampling should be used with the other method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a786422d323d6bb444a26f489da5361d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786422d323d6bb444a26f489da5361d6">&#9670;&nbsp;</a></span>ParticleFilter() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::<a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">ParticleFilter</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hypotheses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html#a87b84437479faf42b4ce81fbc70bdb9d">ResampleMethod</a> &amp;&#160;</td>
          <td class="paramname"><em>resample_method_</em> = <code>ResampleMethod::SYSTEMATIC</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>use_residual_resampling_</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the particle filter with the provided values. </p>
<p>The resampling method with default to the residual method with the systematic method for resampling the residual particles. It is an error to use the residual method for resampling residuals and an exception will be thrown.</p>
<p>This version initialises the particles using multiple initial hypotheses. The particle count is split evenly across all hypotheses. If the division between the number of hypotheses and the number of particles is not even, then the remaining particles will be treated as rogues. It is an error for the numbers of means and covariances to differ.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. Used for sampling the initial particles in the filter. There is one mean for each initial hypothesis. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. Used for sampling the initial particles in the filter. There is one covariance for each initial hypothesis. </td></tr>
    <tr><td class="paramname">resample_method_</td><td>The method to use when resampling particles during the time update step. </td></tr>
    <tr><td class="paramname">use_residual_resampling_</td><td>Whether residual resampling should be used with the other method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9b2b5a5cc456afd2a7de365cd0c5fb9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2b5a5cc456afd2a7de365cd0c5fb9b">&#9670;&nbsp;</a></span>init() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::init </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StateMat &amp;&#160;</td>
          <td class="paramname"><em>covariance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance. </p>
<p>Particle weights are initialised to 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aea8480fb9c6f0eff82cd1e007cae660b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8480fb9c6f0eff82cd1e007cae660b">&#9670;&nbsp;</a></span>init() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::init </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hypotheses</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance. </p>
<p>Particle weights are initialised to 1.</p>
<p>This version initialises the particles using multiple initial hypotheses. The particle count is split evenly across all hypotheses. If the division between the number of hypotheses and the number of particles is not even, then the remaining particles will be treated as rogues.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a05fd8f821f4ba41ae7c4a775445915a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05fd8f821f4ba41ae7c4a775445915a2">&#9670;&nbsp;</a></span>measure()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<div class="memtemplate">
template&lt;typename MeasurementScalar , int S, int... VArgs, int... MArgs, typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MeasurementScalar <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::measure </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Matrix&lt; MeasurementScalar, S, 1, VArgs... &gt; &amp;&#160;</td>
          <td class="paramname"><em>measurement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Matrix&lt; MeasurementScalar, S, S, MArgs... &gt; &amp;&#160;</td>
          <td class="paramname"><em>measurement_covariance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the model to predict (using model::predict) what the next measurement will be then determine how accurate this prediction is (using model::difference). </p>
<p>The likelihood of the measurement is determined using the multivariate normal distribution probability density function, this likelihood (determined for each particle) re-weights each particle.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">MeasurementScalar</td><td>The underlying numerical type of the measurement </td></tr>
    <tr><td class="paramname">S</td><td>The dimensionality of the measurement (and associated covariance matrix) </td></tr>
    <tr><td class="paramname">VArgs</td><td>The types of any extra arguments associated with constructing the measurement vector. </td></tr>
    <tr><td class="paramname">MArgs</td><td>The types of any extra arguments associated with constructing the measurement covariance matrix. </td></tr>
    <tr><td class="paramname">Args</td><td>the types of any extra arguments that are provided to the model's predict function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">measurement</td><td>The measurement (from sensors, etc). </td></tr>
    <tr><td class="paramname">measurement_covariance</td><td>The covariance of the measurement. </td></tr>
    <tr><td class="paramname">params</td><td>Any extra arguments that are to be forwarded to the model's predict function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bcc9c9d69f0102c6c2e6a28a1e0ad23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bcc9c9d69f0102c6c2e6a28a1e0ad23">&#9670;&nbsp;</a></span>resample()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::resample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do a weighted resampling of all of the particles in the filter. </p>
<p>The model is also asked to provide new rogues. All particle weights are reset to 1. </p>

</div>
</div>
<a id="aeb97666f35223dc079edf3d5b563f7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb97666f35223dc079edf3d5b563f7eb">&#9670;&nbsp;</a></span>set_state() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::set_state </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StateMat &amp;&#160;</td>
          <td class="paramname"><em>covariance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance. </p>
<p>Sampled particles are limited (using model::limit) function to ensure all particles are valid. Particle weights are initialised to 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b67f6577611faf6683e7b871d38b802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b67f6577611faf6683e7b871d38b802">&#9670;&nbsp;</a></span>set_state() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::set_state </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; StateVec, StateMat &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hypotheses</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all particles in the filter and samples new particles from the multivariate normal distribution with the given mean and covariance. </p>
<p>Sampled particles are limited (using model::limit) function to ensure all particles are valid. Particle weights are initialised to 1.</p>
<p>This version initialises the particles using multiple initial hypotheses. The particle count is split evenly across all hypotheses. If the division between the number of hypotheses and the number of particles is not even, then the remaining particles will be treated as rogues. It is an error for the numbers of means and covariances to differ.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>The mean of the multivariate normal distribution. There is one mean for each initial hypothesis. </td></tr>
    <tr><td class="paramname">covariance</td><td>The covariance of the multivariate normal distribution. There is one covariance for each initial hypothesis. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f783aa0df5b44f9ba9bf82ba3bd39ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f783aa0df5b44f9ba9bf82ba3bd39ac">&#9670;&nbsp;</a></span>time()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Scalar , template&lt; typename &gt; class FilterModel&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">utility::math::filter::ParticleFilter</a>&lt; Scalar, FilterModel &gt;::time </td>
          <td>(</td>
          <td class="paramtype">const Scalar &amp;&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resample all particles in the filter and set their weights back to 1. </p>
<p>The model is asked to give a prediction on what happens to each particle after dt time has elapsed (using model::time).</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td>the types of any extra arguments that are provided to the model's time update function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>The amount of time that has elapsed since the previous time update step. </td></tr>
    <tr><td class="paramname">params</td><td>Any extra arguments that are to be forwarded to the model's time update function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>shared/utility/math/filter/<a class="el" href="ParticleFilter_8hpp_source.html">ParticleFilter.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>utility</b></li><li class="navelem"><b>math</b></li><li class="navelem"><b>filter</b></li><li class="navelem"><a class="el" href="classutility_1_1math_1_1filter_1_1ParticleFilter.html">ParticleFilter</a></li>
    <li class="footer">Generated on Thu Jun 19 2025 23:15:14 for NUbots by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
