#MIT License
#
#Copyright(c) 2023 NUbots
#
#This file is part of the NUbots codebase.
#See https:  // github.com/NUbots/NUbots for further info.
#
#Permission is hereby granted, free of charge, to any person obtaining a copy
#of this software and associated documentation files(the "Software"), to deal
#in the Software without restriction, including without limitation the rights
#to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
#copies of the Software, and to permit persons to whom the Software is
#furnished to do so, subject to the following                       conditions:
#
#The above copyright notice and this permission notice shall be included in all
#copies or substantial portions of the                                      Software.
#
#THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
#IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
#FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE
#AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
#LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
#OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
#SOFTWARE.
#VRML_SIM R2023b                         utf8
#This is a proto file for Webots for the nugus
#Extracted from :/home/tom/NUbots/NUbots/shared/utility/platform/models/nugus/robot.urdf


EXTERNPROTO "JerseyBack.proto" EXTERNPROTO "JerseyFront.proto" PROTO nugus
[field SFVec3f translation 0 0 0 field SFRotation rotation 0 1 0 0 field SFString name "nugus" #Is `Robot.name`.
#Find in "webots/projects/samples/contests/robocup/controllers/player"
 field SFString controller "player"
#Is `Robot.controllerArgs`.
 field MFString controllerArgs
 []
#Is `Robot.customData`.
 field SFString customData ""
#Is `Robot.supervisor`.
 field SFBool supervisor FALSE
#Is `Robot.synchronization`.
     field SFBool synchronization TRUE
#Is `Robot.selfCollision`.
         field SFBool selfCollision FALSE
#MOTOR PARAMETER : See section 2. of docs/Robot_Model_RoboCup_2021 for more information
             field SFFloat  MX106 -
 torque 10.00 field SFFloat MX106 - vel 10.00 field SFFloat MX106 - damping 1.23 field SFFloat MX106 -
 friction 2.55 field SFFloat                                                                   DYNAMIXEL -
 RESOLUTION 0.0015
#CAMERA PARAMETERS : See docs for more information
#Approximates PI/2 radians(90 degrees)
 field SFFloat fieldOfView 1.5707 field SFInt32 cameraWidth 640 #640 pixels field SFInt32 cameraHeight 480 #480 pixels
# 1.98mm, as from our real cameras(https: //www.lensation.de/pdf/BF10M19828S118C.pdf)
     field SFFloat cameraLensFocalLength 1.98
#Not much noise on real cameras
 field SFFloat cameraNoise 0.000000001
#With over 100fps, real cameras do not have much motion blur
 field SFFloat cameraMotionBlur 10 field MFColor recognitionColors
 [0 0 1]
#Used in the vision data collection tool
 field SFFloat height 0.51] {
    Robot {
        translation IS translation rotation IS rotation controller IS controller controllerArgs IS controllerArgs
            customData IS customData supervisor IS supervisor synchronization IS synchronization selfCollision IS
                selfCollision recognitionColors IS recognitionColors children
        [%{
            if fields.name.value ~= '' then
                                -- name is supposed to be something like "red player 2" or "blue player 1"
                                local words = {}
                                for word in fields.name.value:gmatch("%w+") do table.insert(words, word) end
                                local color = words[1]
                                local number = words[3]
        } %
         Transform {
             translation 0.00250000 0.000000 - 0.0010000 rotation 0.000000 0.000000 1.000000 1.570790 children
                 [JerseyFront{
                     jerseyFrontTexture
                     [%{ = '"./NUgus_textures/NUgus_front_'..tostring(color)..'_'..tostring(number)..'.jpg"' } %] }]
         }

         Transform {
             translation - 0.00250000 0.000000 -
                 0.0010000 rotation 0.000000 0.000000 1.000000 1.570790 children
                 [JerseyBack{ jerseyBackTexture
                              [%{ = '"./NUgus_textures/NUgus_back_'..tostring(color)..'_'..tostring(number)..'.jpg"' } %
                               %{ end } %] }]
         } Transform {
#Accelerometer and Gyro are positioned 0.2m above torso base
             translation 0.000000 0.000000 0.2 children
             [
#(See Section 1. of docs/Robot_Model_RoboCup_2021 for details on noise)
#Axis : x forward, y left, z up
#Units are[m/s ^ 2]
#The acelerometer measures the reaction forces over 3 axes in[m/s ^ 2], thus,
#at rest the accelerometer should read + 9.81 [m/s ^ 2] in the z axis.
#Range is - 39.24 to 39.24 [m/s ^ 2]
#Return value(2nd column of LUT) is offset by 100
                 Accelerometer {
                     name "accelerometer" xAxis TRUE yAxis TRUE zAxis TRUE
#Calculation used : (size of range)/4095
                         resolution 0.01916 lookupTable
                     [-39.24 60.76 0.000704 39.24 139.24 0.000307]
                 }
#'L3G4200D' Gyro
#(See Section 1. of docs/Robot_Model_RoboCup_2021 for details on noise)
#Axis : x forward, y left, z up
#Units are[rad/s]
#Range is - 8.72665 to 8.72665 [rad/s]
#Return value(2nd column of LUT) is offset by 100
                 Gyro{ name "gyroscope" xAxis TRUE yAxis TRUE zAxis TRUE
#Calculation used : (size of range)/4095
                           resolution 0.0042621 lookupTable
                       [-8.72665 91.238 0.0001151 8.72665 108.762 0.000096541] }]
         }

         Shape {
             appearance DEF torso_material PBRAppearance {
                 baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0
             }
             geometry DEF torso_visual Mesh {
                 url "torso_visual.stl"
             }
         } HingeJoint {
             jointParameters HingeJointParameters {
                 dampingConstant IS MX106 - damping staticFriction IS MX106 -
                     friction axis 0.000000 0.000000 1.000000 anchor 0.000000 0.055000 0.000000
             }
             device
             [RotationalMotor {
                 name "left_hip_yaw" maxVelocity IS MX106 - vel minPosition -
                     3.14159 maxPosition 3.14159 maxTorque IS   MX106 - torque
             } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name "left_hip_yaw_sensor" }] endPoint Solid {
          translation 0.000000 0.055000 0.000000
          children [
            Shape {
                    appearance DEF left_hip_yaw_material PBRAppearance {
                        baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0
                    }
                    geometry DEF left_hip_yaw_visual Mesh {
                        url "left_hip_yaw_visual.stl"
                    }
            }
            HingeJoint {
              jointParameters HingeJointParameters {
                    dampingConstant IS MX106-damping
                    staticFriction IS MX106-friction
                axis 1.000000 -0.000000 -0.000004
                anchor 0.022133 0.000000 -0.054500
              }
              device [
                RotationalMotor {
                  name "left_hip_roll [hip]"
                  maxVelocity IS MX106-vel
                  minPosition -3.14159
                  maxPosition 3.14159
                  maxTorque IS MX106-torque
                }
                PositionSensor {
                 resolution IS DYNAMIXEL-RESOLUTION
                  name "left_hip_roll_sensor"
                }
              ]
              endPoint Solid {
                translation 0.022133 0.000000 -0.054500
                rotation 0.000000 1.000000 -0.000000 1.570800
                children [
                  Shape {
                    appearance DEF left_hip_roll_material PBRAppearance {
                      baseColor 0.125 0.125 0.125
                      roughness 1.000000
                      metalness 0
                    }
                    geometry DEF left_hip_roll_visual Mesh {
                      url "left_hip_roll_visual.stl"
                    }
                  }
                  HingeJoint {
                    jointParameters HingeJointParameters {
                    dampingConstant IS MX106-damping
                    staticFriction IS MX106-friction
                      axis -0.000000 1.000000 -0.000004
                      anchor 0.000000 0.000000 -0.000000
                    }
                    device [
                      RotationalMotor {
                        name "left_hip_pitch"
                        maxVelocity IS MX106-vel
                        minPosition -3.14159
                        maxPosition 3.14159
                        maxTorque IS MX106-torque
                      }
                      PositionSensor {
                 resolution IS DYNAMIXEL-RESOLUTION
                        name "left_hip_pitch_sensor"
                      }
                    ]
                    endPoint Solid {
                      translation 0.000000 0.000000 -0.000000
                      rotation -1.000000 -0.000000 -0.000000 1.570800
                      children [
                        Shape {
                          appearance DEF left_upper_leg_material PBRAppearance {
                            baseColor 0.125 0.125 0.125
                            roughness 1.000000
                            metalness 0
                          }
                          geometry DEF left_upper_leg_visual Mesh {
                            url "left_upper_leg_visual.stl"
                          }
                        }
                        HingeJoint {
                          jointParameters HingeJointParameters {
                    dampingConstant IS MX106-damping
                    staticFriction IS MX106-friction
                            axis -0.000000 0.000000 1.000000
                            anchor 0.206046 0.056950 -0.000000
                          }
                          device [
                            RotationalMotor {
                              name "left_knee_pitch"
                              maxVelocity IS MX106-vel
                              minPosition -3.14159
                              maxPosition 3.14159
                              maxTorque IS MX106-torque
                            }
                            PositionSensor {
                 resolution IS DYNAMIXEL-RESOLUTION
                              name "left_knee_pitch_sensor"
                            }
                          ]
                          endPoint Solid {
                            translation 0.206046 0.056950 -0.000000
                            rotation -0.000000 -0.000000 1.000000 0.004801
                            children [
                              Shape {
                                appearance DEF left_lower_leg_material PBRAppearance {
                                  baseColor 0.125 0.125 0.125
                                  roughness 1.000000
                                  metalness 0
                                }
                                geometry DEF left_lower_leg_visual Mesh {
                                  url "left_lower_leg_visual.stl"
                                }
                              }
                              HingeJoint {
                                jointParameters HingeJointParameters {
                    dampingConstant IS MX106-damping
                    staticFriction IS MX106-friction
                                  axis 0.000000 0.000000 1.000000
                                  anchor 0.200203 -0.000000 0.000000
                                }
                                device [
                                  RotationalMotor {
                                    name "left_ankle_pitch"
                                    maxVelocity IS MX106-vel
                                    minPosition -3.14159
                                    maxPosition 3.14159
                                    maxTorque IS MX106-torque
                                  }
                                  PositionSensor {
                 resolution IS DYNAMIXEL-RESOLUTION
                                    name "left_ankle_pitch_sensor"
                                  }
                                ]
                                endPoint Solid {
                                  translation 0.200203 -0.000000 0.000000
                                  children [
                                    Shape {
                                      appearance DEF left_ankle_material PBRAppearance {
                                        baseColor 0.125 0.125 0.125
                                        roughness 1.000000
                                        metalness 0
                                      }
                                      geometry DEF left_ankle_visual Mesh {
                                        url "left_ankle_visual.stl"
                                      }
                                    }
                                    HingeJoint {
                                      jointParameters HingeJointParameters {
                    dampingConstant IS MX106-damping
                    staticFriction IS MX106-friction
                                        axis -0.000000 -1.000000 -0.000004
                                        anchor 0.000000 -0.000000 -0.000000
                                      }
                                      device [
                                        RotationalMotor {
                                          name "left_ankle_roll"
                                          maxVelocity IS MX106-vel
                                          minPosition -3.14159
                                          maxPosition 3.14159
                                          maxTorque IS MX106-torque
                                        }
                                        PositionSensor {
                 resolution IS DYNAMIXEL-RESOLUTION
                                          name "left_ankle_roll_sensor"
                                        }
                                      ]
                                      endPoint Solid {
                                        translation 0.000000 -0.000000 -0.000000
                                        rotation 1.000000 -0.000000 -0.000000 1.570800
                                        children [
                                          Shape {
                                            appearance DEF left_foot_material PBRAppearance {
                                              baseColor 0.125 0.125 0.125
                                              roughness 1.000000
                                              metalness 0
                                            }
                                            geometry DEF left_foot_visual Mesh {
                                              url "left_foot_visual.stl"
                                            }
                                          }
                                          Solid {
                                            translation 0.038000 0.000000 0.000000
                                            rotation -0.000000 -1.000000 -0.000000 1.570800
                                            children [
                                              Shape {
                                                appearance DEF left_foot_base_material PBRAppearance {
                                                  baseColor 0.615686 0.811765 0.929412
                                                  roughness 1.000000
                                                  metalness 0
                                                }
                                                geometry DEF left_foot_base_visual Mesh {
                                                  url "left_foot_base_visual.stl"
                                                }
                                              }
                                            ]
                                            name "left_foot_base"
                                            boundingObject Transform {
                                              translation 0.000000 0.000000 0.000005
                                              children [
                                                Box {
                                                   size 0.000010 0.000010 0.000010
                                                }
                                              ]
                                            }
                                            physics Physics {
                                              density -1
                                              mass 1e-8
                                              centerOfMass [ 0.000000 -0.000000 0.000005 ]
                                            }
                                          }

#Define four touch sensors for the left foot
#Back right touch sensor on left        foot
                                          TouchSensor {
                                            translation 0.0379995 -0.0548465 -0.0867505
                                            name "left_touch_sensor_br"
                                            children [
#Define shape for all touch sensors
                                              DEF touch_shape Shape{
                                                appearance PBRAppearance {
                                                  baseColor 0.125 0.125 0.125
                                                  transparency 0.000000
                                                  roughness 1.000000
                                                  metalness 0
                                                  emissiveColor 0.000000 0.000000 0.000000
                                                }
                                              }
                                            ]
#Bounding object uses geometry from touch_shape
                                            boundingObject DEF touch_box Transform {
                                              translation 0.0 0.0 0.0
                                              rotation 0.0 0.0 1.0 1.571
                                              children [
                                                Capsule {
                                                  bottom      TRUE   # {TRUE, FALSE}
                                                  height      0.001  # [0, inf)
                                                  radius      0.009  # [0, inf)
                                                  side        TRUE   # {TRUE, FALSE}
                                                  top         FALSE  # {TRUE, FALSE}
                                                  subdivision 12     # [3, inf)
                                                }
                                              ]
                                            }
#Define physics for all touch sensors
                                            physics DEF touch_physics Physics{
                                              density -1
                                              mass 0.02
                                              centerOfMass 0.0 0.0 0.0
                                            }
                                            type "bumper"
                                          }
#Back left touch sensor on left foot
                                          TouchSensor {
                                            translation 0.0379995 0.0767345 -0.0867505
                                            name "left_touch_sensor_bl"
                                            boundingObject USE touch_box
                                            physics USE touch_physics
                                            type "bumper"
                                          }
#Front left touch sensor on left foot
                                          TouchSensor {
                                            translation 0.0379995 0.0767345 0.129071
                                            name "left_touch_sensor_fl"
                                            boundingObject USE touch_box
                                            physics USE touch_physics
                                            type "bumper"
                                          }
#Front right touch sensor on left foot
                                          TouchSensor {
                                            translation 0.0379995 -0.0548465 0.129071
                                            name "left_touch_sensor_fr"
                                            boundingObject USE touch_box
                                            physics USE touch_physics
                                            type "bumper"
                                          }
                                        ]
                                        name "left_foot [foot]"
                                        boundingObject Transform {
                                          translation 0.009503 0.010944 0.021160
                                          children [
                                            Box {
                                               size 0.056993 0.131581 0.215821
                                            }
                                          ]
                                        }
                                        physics Physics {
                                          density -1
                                          mass 0.245581
                                          centerOfMass [ 0.024823 0.007985 0.033284 ]
                                          inertiaMatrix [
                                            1.347220e-03 1.083830e-03 3.320290e-04
                                            -9.736970e-06 2.738200e-08 -1.340650e-05
                                          ]
                                        }
                                      }
                                    }
                                  ]
                                  name "left_ankle"
                                  boundingObject Transform {
                                    translation -0.017756 0.027094 -0.001668
                                    children [
                                      Box {
                                         size 0.065688 0.094388 0.055300
                                      }
                                    ]
                                  }
                                  physics Physics {
                                    density -1
                                    mass 0.329993
                                    centerOfMass [ -0.015733 0.021976 0.000513 ]
                                    inertiaMatrix [
                                      2.657620e-04 1.578470e-04 2.656770e-04
                                      1.273040e-09 1.211680e-18 3.682900e-06
                                    ]
                                  }
                                }
                              }
                            ]
                            name "left_lower_leg"
                            boundingObject Transform {
                              translation 0.100101 0.001000 0.000000
                              children [
                                Box {
                                   size 0.229203 0.031000 0.078000
                                }
                              ]
                            }
                            physics Physics {
                              density -1
                              mass 0.089301
                              centerOfMass [ 0.100100 0.003882 -0.000000 ]
                              inertiaMatrix [
                                9.012540e-05 4.089510e-04 3.363000e-04
                                1.571840e-09 -7.871580e-11 1.161010e-11
                              ]
                            }
                          }
                        }
                      ]
                      name "left_upper_leg"
                      boundingObject Transform {
                        translation 0.103064 0.030367 0.000000
                        children [
                          Box {
                             size 0.246269 0.093471 0.073000
                          }
                        ]
                      }
                      physics Physics {
                        density -1
                        mass 0.313357
                        centerOfMass [ 0.144296 0.040110 0.000258 ]
                        inertiaMatrix [
                          2.243790e-04 1.661780e-03 1.600670e-03
                          -1.276700e-04 -4.075760e-06 -8.941050e-07
                        ]
                      }
                    }
                  }
                ]
                name "left_hip_roll [hip]"
                boundingObject Transform {
                  translation 0.021138 0.001350 -0.026825
                  children [
                    Box {
                       size 0.072453 0.055300 0.093850
                    }
                  ]
                }
                physics Physics {
                  density -1
                  mass 0.395953
                  centerOfMass [ 0.015733 -0.000686 -0.021707 ]
                  inertiaMatrix [
                    3.142980e-04 3.758080e-04 1.277850e-04
                    1.527500e-09 9.813720e-18 5.620380e-06
                  ]
                }
              }
            }
          ]
          name "left_hip_yaw"
          boundingObject Transform {
              translation 0.000000 - 0.007237 -
                  0.036750 children
                  [Box{ size 0.108500 0.094026 0.073500 }]
          }
          physics Physics {
              density - 1 mass 0.059402 centerOfMass
                  [-0.002183 - 0.008948 - 0.024756] inertiaMatrix
                  [1.186270e-04 5.241240e-05 1.036410e-04 - 4.669810e-07 - 1.503880e-06 1.014140e-07]
          }
             }
         } HingeJoint {
             jointParameters HingeJointParameters {
                 dampingConstant IS MX106 - damping staticFriction IS MX106 -
                     friction axis 0.000000 0.000000 1.000000 anchor - 0.000000 - 0.055000 - 0.000000
             }
             device
             [RotationalMotor {
                 name "right_hip_yaw" maxVelocity IS MX106 - vel minPosition -
                     3.14159 maxPosition 3.14159 maxTorque IS    MX106 - torque
             } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name "right_hip_yaw_sensor" }] endPoint Solid {
                 translation - 0.000000 - 0.055000 -
                     0.000000 children
                     [Shape {
                         appearance DEF right_hip_yaw_material PBRAppearance {
                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0
                         }
                         geometry DEF right_hip_yaw_visual Mesh {
                             url "right_hip_yaw_visual.stl"
                         }
                     } HingeJoint{
                         jointParameters
                         HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                friction axis 1.000000 - 0.000000 - 0.000004 anchor 0.022133 0.000000 -
                                                0.054500 } device
                         [RotationalMotor{ name "right_hip_roll [hip]" maxVelocity IS MX106 - vel minPosition -
                                           3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque } PositionSensor{
                             resolution IS DYNAMIXEL - RESOLUTION name "right_hip_roll_sensor" }] endPoint
                         Solid {
                             translation 0.022133 0.000000 - 0.054500 rotation 0.000000 1.000000 -
                             0.000000 1.570800 children
                             [Shape{
                                 appearance DEF right_hip_roll_material
                                 PBRAppearance { baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                     DEF right_hip_roll_visual
                                 Mesh { url "right_hip_roll_visual.stl" }
                             } HingeJoint{
                                 jointParameters
                                 HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                        friction axis 0.000000 1.000000 - 0.000004 anchor -
                                                        0.000000 0.000000 0.000000 } device
                                 [RotationalMotor{ name "right_hip_pitch" maxVelocity IS MX106 - vel minPosition -
                                                   3.14159 maxPosition 3.14159 maxTorque IS          MX106 -
                                                   torque } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name
                                                                            "right_hip_pitch_sensor" }] endPoint
                                 Solid {
                                     translation - 0.000000 0.000000 0.000000 rotation - 1.000000 - 0.000000 -
                                     0.000000 1.570800 children
                                     [Shape{
                                         appearance DEF right_upper_leg_material
                                         PBRAppearance {
                                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry DEF
                                             right_upper_leg_visual
                                         Mesh { url "right_upper_leg_visual.stl" }
                                     } HingeJoint{
                                         jointParameters
                                         HingeJointParameters {
                                             dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                             friction axis 0.000000 0.000000 1.000000 anchor 0.206046 0.056950 -
                                             0.000000 } device
                                         [RotationalMotor{
                                             name "right_knee_pitch" maxVelocity IS MX106 - vel minPosition -
                                             3.14159 maxPosition 3.14159 maxTorque IS           MX106 -
                                             torque } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name
                                                                      "right_knee_pitch_sensor" }] endPoint
                                         Solid {
                                             translation 0.206046 0.056950 - 0.000000 children
                                             [Shape{
                                                 appearance DEF right_lower_leg_material
                                                 PBRAppearance {
                                                     baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                                     DEF right_lower_leg_visual
                                                 Mesh { url "right_lower_leg_visual.stl" }
                                             } HingeJoint{
                                                 jointParameters
                                                 HingeJointParameters {
                                                     dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                     friction axis 0.000000 0.000000 1.000000 anchor 0.200203 0.000000 -
                                                     0.000000 } device
                                                 [RotationalMotor{
                                                     name "right_ankle_pitch" maxVelocity IS MX106 - vel minPosition -
                                                     3.14159 maxPosition 3.14159 maxTorque IS            MX106 -
                                                     torque } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name
                                                                              "right_ankle_pitch_sensor" }] endPoint
                                                 Solid {
                                                     translation 0.200203 0.000000 - 0.000000 children
                                                     [Shape{
                                                         appearance DEF right_ankle_material
                                                         PBRAppearance {
                                                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                                             DEF right_ankle_visual
                                                         Mesh { url "right_ankle_visual.stl" }
                                                     } HingeJoint{
                                                         jointParameters
                                                         HingeJointParameters { dampingConstant IS        MX106 -
                                                                                damping staticFriction IS MX106 -
                                                                                friction axis 0.000000 - 1.000000 -
                                                                                0.000004 anchor 0.000000 0.000000 -
                                                                                0.000000 } device
                                                         [RotationalMotor{
                                                             name "right_ankle_roll" maxVelocity IS   MX106 -
                                                             vel                                      minPosition -
                                                             3.14159 maxPosition 3.14159 maxTorque IS MX106 -
                                                             torque } PositionSensor{
                                                             resolution IS DYNAMIXEL - RESOLUTION name
                                                             "right_ankle_roll_sensor" }] endPoint
                                                         Solid {
                                                             translation 0.000000 0.000000 -
                                                             0.000000 rotation 1.000000 0.000000 0.000000 1.570800 children
                                                             [Shape{
                                                                 appearance DEF right_foot_material
                                                                 PBRAppearance {
                                                                     baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                                                     DEF right_foot_visual
                                                                 Mesh { url "right_foot_visual.stl" }
                                                             } Solid{
                                                                 translation 0.038000 0.000000 0.000000 rotation -
                                                                 0.000000 - 1.000000 -
                                                                 0.000000 1.570800 children
                                                                 [Shape{
                                                                     appearance DEF right_foot_base_material
                                                                     PBRAppearance {
                                                                         baseColor 0.615686 0.811765 0.929412 roughness 1.000000 metalness 0 } geometry
                                                                         DEF right_foot_base_visual
                                                                     Mesh { url "right_foot_base_visual.stl" }
                                                                 }] name "right_foot_base" boundingObject
                                                                 Transform {
                                                                     translation 0.000000 0.000000 0.000005 children
                                                                     [Box{ size 0.000010 0.000010 0.000010 }] } physics
                                                                 Physics { density - 1 mass 1e-8 }
                                                             }

#Define four touch sensors for the right foot
#Back right touch sensor on right        foot
                                                              TouchSensor{ translation 0.0379995 - 0.0767345 -
                                                                           0.0867505 name
                                                                           "right_touch_sensor_br" boundingObject USE
                                                                               touch_box physics USE touch_physics
#Sensor Type
#Bumper returns a 1 when collision is detected
                                                                                   type "bumper" }

#Back left touch sensor on right foot
                                                              TouchSensor{
                                                                  translation 0.0379995 0.0548465 - 0.0867505 name
                                                                  "right_touch_sensor_bl" boundingObject USE touch_box
                                                                      physics USE touch_physics type "bumper" }
#Front left touch sensor on right foot
                                                              TouchSensor{ translation 0.0379995 0.0548465 0.129071 name
                                                                           "right_touch_sensor_fl" boundingObject USE
                                                                               touch_box physics USE touch_physics type
                                                                           "bumper" }
#Front right touch sensor on right foot
                                                              TouchSensor{
                                                                  translation 0.0379995 - 0.0767345 0.129071 name
                                                                  "right_touch_sensor_fr" boundingObject USE touch_box
                                                                      physics USE touch_physics type "bumper" }] name
                                                             "right_foot [foot]" boundingObject
                                                             Transform {
                                                                 translation 0.009507 - 0.010945 0.021160 children
                                                                 [Box{ size 0.056987 0.131579 0.215821 }] } physics
                                                             Physics {
                                                                 density - 1 mass 0.245567 centerOfMass
                                                                 [0.024823 - 0.007987 0.033281] inertiaMatrix
                                                                 [1.347120e-03 1.083760e-03 3.319970e-04 9.735890e-06 2.226560e-08 1.340390e-05] }
                                                         }
                                                     }] name "right_ankle" boundingObject
                                                     Transform { translation - 0.017756 0.026944 -
                                                                 0.001668 children
                                                                 [Box{ size 0.065688 0.094088 0.055300 }] } physics
                                                     Physics {
                                                         density - 1 mass 0.329993 centerOfMass
                                                         [-0.015733 0.021823 0.000509] inertiaMatrix
                                                         [2.636480e-04 1.578480e-04 2.635610e-04 7.537150e-09 2.473340e-19 3.690710e-06] }
                                                 }
                                             }] name "right_lower_leg" boundingObject
                                             Transform { translation 0.100101 0.001000 0.000000 children
                                                         [Box{ size 0.229203 0.031000 0.078000 }] } physics
                                             Physics { density - 1 mass 0.089301 centerOfMass
                                                       [0.100103 0.003882 0.000000] inertiaMatrix
                                                       [9.012540e-05 4.089510e-04 3.363000e-04 - 1.571840e-09 -
                                                        7.871580e-11 - 1.161010e-11] }
                                         }
                                     }] name "right_upper_leg" boundingObject
                                     Transform { translation 0.103064 0.030367 - 0.000000 children
                                                 [Box{ size 0.246269 0.093471 0.073000 }] } physics
                                     Physics { density - 1 mass 0.313809 centerOfMass
                                               [0.144343 0.040092 - 0.000279] inertiaMatrix
                                               [2.245880e-04 1.662400e-03 1.601300e-03 -
                                                1.592750e-04 4.714070e-06 8.156250e-07] }
                                 }
                             }] name "right_hip_roll [hip]" boundingObject
                             Transform { translation 0.018050 - 0.003150 -
                                         0.026950 children
                                         [Box{ size 0.066276 0.055300 0.094100 }] } physics
                             Physics {
                                 density - 1 mass 0.395953 centerOfMass
                                 [0.015733 - 0.000232 - 0.021829] inertiaMatrix
                                 [3.163670e-04 3.780250e-04 1.276370e-04 - 9.045610e-09 - 5.971580e-20 1.977870e-06] }
                         }
                     }] name "right_hip_yaw" boundingObject Transform {
                     translation 0.000000 0.007237 - 0.036750 children
                         [Box{ size 0.108500 0.094026 0.073500 }]
                 }
                 physics Physics {
                     density - 1 mass 0.059402 centerOfMass
                         [-0.002183 0.008948 - 0.024756] inertiaMatrix
                         [1.186260e-04 5.241170e-05 1.036410e-04 4.671660e-07 - 1.504170e-06 - 1.010730e-07]
                 }
             }
         } HingeJoint {
             jointParameters HingeJointParameters {
                 dampingConstant IS MX106 - damping staticFriction IS MX106 - friction axis - 0.000000 -
                     0.000000 1.000000 anchor - 0.008000 0.000000 0.208250
             }
             device
             [RotationalMotor {
                 name "neck_yaw" maxVelocity IS MX106 - vel   minPosition -
                     3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque
             } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name "neck_yaw_sensor" }] endPoint Solid {
                 translation - 0.008000 0.000000 0.208250 rotation 0.000000 0.000000 -
                     1.000000 3.141590 children
                     [Shape {
                         appearance DEF neck_material PBRAppearance {
                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0
                         }
                         geometry DEF neck_visual Mesh {
                             url "neck_visual.stl"
                         }
                     } HingeJoint{
                         jointParameters
                         HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                friction axis - 0.000004 - 1.000000 0.000000 anchor - 0.000245 -
                                                0.000255 0.048100 } device
                         [RotationalMotor{ name "head_pitch" maxVelocity IS MX106 - vel minPosition -
                                           3.14159 maxPosition 3.14159 maxTorque IS     MX106 - torque } PositionSensor{
                             resolution IS DYNAMIXEL - RESOLUTION name "head_pitch_sensor" }] endPoint
                         Solid {
                             translation - 0.000245 - 0.000255 0.048100 rotation 0.577350 0.577350 -
                             0.577352 2.094399 children
                             [Shape{
                                 appearance DEF head_material
                                 PBRAppearance { baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                     DEF head_visual
                                 Mesh { url "head_visual.stl" }
                             } Solid{
                                 translation - 0.064880 - 0.069952 0.033795 rotation 0.590785 - 0.570515 -
                                 0.570513 2.074363 children
                                 [Shape{
                                     appearance DEF left_camera_material
                                     PBRAppearance {
                                         baseColor 0.615686 0.811765 0.929412 roughness 1.000000 metalness 0 } geometry
                                         DEF left_camera_visual
                                     Mesh { url "left_camera_visual.stl" }
                                 }

                                  DEF left_camera Camera{
                                      name "left_camera" translation 0.0 0.0 0.0 rotation 0.0 0.0 1.0 0.0
#Set parameters from fields
                                      fieldOfView IS fieldOfView width IS cameraWidth height IS cameraHeight noise IS
                                          cameraNoise motionBlur IS cameraMotionBlur
#We are using a rectilinear lens because there is no true spherical lens
                                              spherical FALSE
#Allows the robot to detect objects in the world
                                                  recognition DEF recognition
                                      Recognition {
                                          frameThickness 0 #Remove bounding boxes segmentation TRUE #Add segmentation }
                                  }]

                             } Solid{
                                 translation - 0.064880 - 0.069952 - 0.034205 rotation 0.590785 - 0.570515 -
                                 0.570513 2.074363 children
                                 [Shape{
                                     appearance DEF right_camera_material
                                     PBRAppearance {
                                         baseColor 0.615686 0.811765 0.929412 roughness 1.000000 metalness 0 } geometry
                                         DEF right_camera_visual
                                     Mesh { url "right_camera_visual.stl" }
                                 }

                                  DEF right_camera Camera{
                                      name "right_camera" translation 0.0 0.0 0.0 rotation 0.0 0.0 1.0 0.0
#Set parameters from fields
                                      fieldOfView IS fieldOfView width IS cameraWidth height IS cameraHeight noise IS
                                          cameraNoise motionBlur IS cameraMotionBlur
#We are using a rectilinear lens because there is no true spherical lens
                                              spherical FALSE
#Set the recognition parameters from the left camera
                                                  recognition USE recognition }]

                             }] name "head" boundingObject
                             Transform { translation - 0.065929 - 0.004332 -
                                         0.000205 children
                                         [Box{ size 0.162238 0.155643 0.157797 }] } physics
                             Physics {
                                 density - 1 mass 0.473503 centerOfMass
                                 [-0.066556 - 0.010322 - 0.000101] inertiaMatrix
                                 [1.968500e-03 1.453300e-03 1.074450e-03 6.689870e-06 8.029900e-06 - 1.730550e-07] }
                         }
                     }] name "neck" boundingObject Transform {
                     translation - 0.000245 -
                         0.002755 0.030682 children
                         [Box{ size 0.040200 0.050000 0.062835 }]
                 }
                 physics Physics {
                     density - 1 mass 0.165011 centerOfMass
                         [-0.000245 - 0.000118 0.032909] inertiaMatrix
                         [6.783790e-05 5.662750e-05 3.851170e-05 - 3.832310e-11 - 3.690700e-11 2.056080e-06]
                 }
             }
         } HingeJoint {
             jointParameters HingeJointParameters {
                 dampingConstant IS MX106 - damping staticFriction IS MX106 - friction axis -
                     0.000004 1.000000 0.000000 anchor - 0.000000 0.077000 0.177250
             }
             device
             [RotationalMotor {
                 name "left_shoulder_pitch [shoulder]" maxVelocity IS MX106 - vel minPosition -
                     3.14159 maxPosition 3.14159 maxTorque IS                     MX106 - torque
             } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name "left_shoulder_pitch_sensor" }] endPoint
             Solid {
                 translation - 0.000000 0.077000 0.177250 rotation -
                     0.577350 0.577350 0.577352 2.094399 children
                     [Shape {
                         appearance DEF left_shoulder_material PBRAppearance {
                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0
                         }
                         geometry DEF left_shoulder_visual Mesh {
                             url "left_shoulder_visual.stl"
                         }
                     } HingeJoint{
                         jointParameters
                         HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                friction axis - 1.000000 0.000004 - 0.000004 anchor 0.000000 -
                                                0.010001 0.047912 } device
                         [RotationalMotor{ name "left_shoulder_roll" maxVelocity IS MX106 - vel minPosition -
                                           3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque } PositionSensor{
                             resolution IS DYNAMIXEL - RESOLUTION name "left_shoulder_roll_sensor" }] endPoint
                         Solid {
                             translation 0.000000 - 0.010001 0.047912 rotation 0.577350 - 0.577352 -
                             0.577350 2.094399 children
                             [Shape{
                                 appearance DEF left_upper_arm_material
                                 PBRAppearance { baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry
                                     DEF left_upper_arm_visual
                                 Mesh { url "left_upper_arm_visual.stl" }
                             } HingeJoint{
                                 jointParameters
                                 HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 -
                                                        friction axis - 0.000004 1.000000 0.000000 anchor 0.157500 -
                                                        0.000056 0.026950 } device
                                 [RotationalMotor{ name "left_elbow_pitch" maxVelocity IS MX106 - vel minPosition -
                                                   3.14159 maxPosition 3.14159 maxTorque IS           MX106 -
                                                   torque } PositionSensor{ resolution IS DYNAMIXEL - RESOLUTION name
                                                                            "left_elbow_pitch_sensor" }] endPoint
                                 Solid {
                                     translation 0.157500 - 0.000056 0.026950 rotation -
                                     0.577350 0.577350 0.577352 2.094399 children
                                     [Shape{
                                         appearance DEF left_lower_arm_material
                                         PBRAppearance {
                                             baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry DEF
                                             left_lower_arm_visual
                                         Mesh { url "left_lower_arm_visual.stl" }
                                     }] name "left_lower_arm" boundingObject
                                     Transform { translation - 0.002479 - 0.095649 -
                                                 0.002522 children
                                                 [Box{ size 0.082572 0.258298 0.050922 }] } physics
                                     Physics { density - 1 mass 0.287325 centerOfMass
                                               [-0.000606 - 0.050997 0.000069] inertiaMatrix
                                               [7.784710e-04 5.437270e-04 1.150600e-03 -
                                                5.293450e-05 1.099730e-05 3.473980e-05] }
                                 }
                             }] name "left_upper_arm" boundingObject
                             Transform { translation 0.073032 - 0.000014 0.010696 children
                                         [Box{ size 0.224838 0.079023 0.089595 }] } physics
                             Physics {
                                 density - 1 mass 0.299230 centerOfMass
                                 [0.045902 0.000372 0.000009] inertiaMatrix
                                 [6.263990e-04 5.884490e-04 9.852510e-04 2.628610e-05 - 3.505570e-05 6.362670e-06] }
                         }
                     }] name "left_shoulder" boundingObject Transform {
                     translation 0.000000 - 0.000721 0.039687 children
                         [Box{ size 0.080000 0.081442 0.079373 }]
                 }
                 physics Physics {
                     density - 1 mass 0.084550 centerOfMass
                         [-0.000036 - 0.002549 0.028743] inertiaMatrix
                         [7.302950e-05 9.743110e-05 9.336130e-05 1.041460e-07 - 7.551920e-08 - 3.991160e-06]
                 }
             }
         } HingeJoint{
             jointParameters
             HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 - friction axis -
                                    0.000004 1.000000 0.000000 anchor - 0.000000 - 0.077000 0.177250 } device
             [RotationalMotor{ name "right_shoulder_pitch [shoulder]" maxVelocity IS MX106 - vel minPosition -
                               3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque } PositionSensor{
                 resolution IS DYNAMIXEL - RESOLUTION name "right_shoulder_pitch_sensor" }] endPoint
             Solid {
                 translation - 0.000000 - 0.077000 0.177250 rotation -
                 0.577350 0.577350 0.577352 2.094399 children
                 [Shape{
                     appearance DEF right_shoulder_material
                     PBRAppearance {
                         baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry DEF right_shoulder_visual
                     Mesh { url "right_shoulder_visual.stl" }
                 } HingeJoint{
                     jointParameters
                     HingeJointParameters { dampingConstant IS MX106 - damping staticFriction IS MX106 - friction axis -
                                            1.000000 0.000004 - 0.000004 anchor 0.000000 - 0.010001 - 0.047912 } device
                     [RotationalMotor{ name "right_shoulder_roll" maxVelocity IS MX106 - vel minPosition -
                                       3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque } PositionSensor{
                         resolution IS DYNAMIXEL - RESOLUTION name "right_shoulder_roll_sensor" }] endPoint
                     Solid {
                         translation 0.000000 - 0.010001 - 0.047912 rotation 0.577350 - 0.577352 -
                         0.577350 2.094399 children
                         [Shape{
                             appearance DEF right_upper_arm_material
                             PBRAppearance { baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry DEF
                                 right_upper_arm_visual
                             Mesh { url "right_upper_arm_visual.stl" }
                         } HingeJoint{
                             jointParameters
                             HingeJointParameters {
                                 dampingConstant IS MX106 - damping staticFriction IS MX106 - friction axis -
                                 0.000004 1.000000 0.000000 anchor 0.157500 0.000056 0.026950 } device
                             [RotationalMotor{ name "right_elbow_pitch" maxVelocity IS MX106 - vel minPosition -
                                               3.14159 maxPosition 3.14159 maxTorque IS MX106 - torque } PositionSensor{
                                 resolution IS DYNAMIXEL - RESOLUTION name "right_elbow_pitch_sensor" }] endPoint
                             Solid {
                                 translation 0.157500 0.000056 0.026950 rotation -
                                 0.577350 0.577350 0.577352 2.094399 children
                                 [Shape{
                                     appearance DEF right_lower_arm_material
                                     PBRAppearance {
                                         baseColor 0.125 0.125 0.125 roughness 1.000000 metalness 0 } geometry DEF
                                         right_lower_arm_visual
                                     Mesh { url "right_lower_arm_visual.stl" }
                                 }] name "right_lower_arm" boundingObject
                                 Transform { translation - 0.002479 -
                                             0.095659 0.002539 children
                                             [Box{ size 0.082572 0.258318 0.050957 }] } physics
                                 Physics {
                                     density - 1 mass 0.287350 centerOfMass
                                     [-0.000605 - 0.051000 - 0.000069] inertiaMatrix
                                     [7.786250e-04 5.438180e-04 1.150820e-03 3.067350e-05 9.860340e-06 - 3.474720e-05] }
                             }
                         }] name "right_upper_arm" boundingObject
                         Transform { translation 0.073028 0.000014 0.010696 children
                                     [Box{ size 0.224830 0.079023 0.089595 }] } physics
                         Physics { density - 1 mass 0.299218 centerOfMass
                                   [0.045899 - 0.000371 0.000119] inertiaMatrix
                                   [6.263510e-04 5.883480e-04 9.851550e-04 3.148120e-05 - 3.417190e-05 - 6.383500e-06] }
                     }
                 }] name "right_shoulder" boundingObject
                 Transform { translation 0.000000 - 0.000734 -
                             0.039681 children
                             [Box{ size 0.080000 0.081467 0.079362 }] } physics
                 Physics { density - 1 mass 0.084550 centerOfMass
                           [-0.000035 - 0.002549 - 0.028743] inertiaMatrix
                           [7.302960e-05 9.743120e-05 9.336150e-05 1.046390e-07 7.539300e-08 3.991360e-06] }
             }
         }] name IS name boundingObject Transform {
            translation - 0.002001 -
                0.000010 0.108568 children
                [Box{ size 0.139509 0.189983 0.261804 }]
        }
        physics Physics {
            density - 1 mass 1.832640 centerOfMass
                [-0.000971 - 0.000076 0.089849] inertiaMatrix
                [1.549240e-02 1.315490e-02 5.926760e-03 9.191360e-05 - 1.170230e-03 2.212050e-06]
        }
    }
}
